---
title: "[베릴로그 HDL] 05.게이트 수준 모델링"
date: 2025-03-20 12:56:00 +09:00
categories: [Verilog, 베릴로그공부]
tags:
  [
    verilog,
    systemverilog,
    Vivado,
    Vitis
  ]
---

# 5장 게이트 수준 모델링
## 5.1. 게이트 형태
✅ Verilog에서 게이트 형태(Gate Primitives)란?

Verilog의 **게이트 형태(Gate Primitives)**는 논리 회로 설계를 위해 제공되는 기본적인 논리 게이트입니다.

이러한 게이트는 Verilog에서 **프리미티브(Primitive)**로 정의되어 있으며, 설계자가 논리 회로를 간단하고 직관적으로 표현할 수 있도록 지원합니다.

#### 📌 게이트 형태의 주요 특징

1. 논리 회로 설계

    - 논리 게이트는 디지털 회로의 기본 구성 요소로, Verilog에서 프리미티브로 제공됩니다.

    - 이를 사용하여 조합 논리 회로를 설계할 수 있습니다.

2. 내장 프리미티브

    - Verilog는 AND, OR, NOT 등 기본적인 논리 게이트를 내장 프리미티브로 제공합니다.

3. 사용 용이성
    
    - 프리미티브는 별도의 정의 없이 바로 사용할 수 있습니다.

    - 입력과 출력 신호를 연결하여 간단히 논리 연산을 수행합니다.


### 5.1.1.  And/Or 게이트
✅ Verilog에서 And/Or 게이트란?
Verilog는 논리 회로 설계를 위해 기본적인 논리 게이트인 AND, OR, NAND, NOR, XOR, XNOR를 제공합니다. 이들은 프리미티브로 정의되어 있으며, 간단한 논리 연산을 수행하는 데 사용됩니다. 이러한 게이트는 두 개 이상의 입력을 지원하며, 특정 조건에서 z와 x가 만나면 결과는 x로 처리됩니다.

#### 📌 And/Or 게이트의 주요 특징

1. 기본 프리미티브 제공

    - Verilog는 and, nand, or, nor, xor, xnor 프리미티브를 기본적으로 제공합니다.

2. 인스턴스 이름 생략 가능

    - 프리미티브를 사용할 때 인스턴스 이름을 생략해도 동작합니다.

3. 다중 입력 지원

    - 두 개 이상의 입력을 처리할 수 있습니다.

4. 특수 값 처리 (z, x)

    - 진리표에서 z(고임피던스)와 x(알 수 없는 값)가 만나면 결과는 항상 x로 처리됩니다.

### 5.1.2. Buf/Not 게이트
✅ Verilog에서 Buf/Not 게이트란?
Verilog의 Buf/Not 게이트는 신호를 전달하거나 반전하는 기본적인 논리 게이트입니다. 

이들은 프리미티브로 정의되어 있으며, 간단한 신호 처리 작업을 수행합니다. 

buf는 입력 신호를 그대로 출력하며, not은 입력 신호를 반전하여 출력합니다.

#### 📌 Buf/Not 게이트의 주요 특징

1. 프리미티브 제공

    - Verilog는 buf(버퍼)와 not(반전기) 프리미티브를 기본적으로 제공합니다.

2. 인스턴스 이름 생략 가능

    - 다른 프리미티브와 마찬가지로 인스턴스 이름 없이 사용할 수 있습니다.

3. 다중 입력 지원

    - 두 개 이상의 입력을 처리할 수 있습니다.

4. 특수 값 처리 (x, z)

    - 진리표에서 입력 신호가 불확실(x)하거나 고임피던스(z)일 경우, 출력은 항상 불확실(x)로 처리됩니다.

### 5.1.3. 인스턴스 배열
✅ Verilog에서 인스턴스 배열(Instance Array)이란?
Verilog의 **인스턴스 배열(Instance Array)**은 동일한 프리미티브나 모듈을 다수의 인스턴스로 생성할 때 사용됩니다.

이를 통해 반복적으로 같은 기능을 수행하는 여러 인스턴스를 간결하게 선언하고 관리할 수 있습니다.

인스턴스 배열은 주로 벡터 신호를 처리하는 데 활용됩니다.

#### 📌 인스턴스 배열의 주요 특징

1. 반복적인 인스턴스 생성

    - 동일한 프리미티브나 모듈을 다수의 인스턴스로 생성하여 반복 작업을 간소화합니다.

2. 벡터 신호 처리

    - 입력과 출력이 벡터 형태일 때, 각 비트에 대해 개별적으로 인스턴스를 생성합니다.

3. 간결한 표현

    - 배열을 사용하여 여러 인스턴스를 한 줄로 선언할 수 있습니다.

4. 확장 가능성

    - 배열 크기를 조정하여 필요한 만큼의 인스턴스를 생성할 수 있습니다.


#### 📌 인스턴스 배열 사용 예제

예제 1: NAND 게이트 배열

```verilog
module InstanceArrayExample;
    wire [7:0] OUT, IN1, IN2;

    // NAND 게이트 배열 선언
    nand n_gate [7:0] (OUT, IN1, IN2);

    initial begin
        $monitor("IN1 = %b, IN2 = %b -> OUT = %b", IN1, IN2, OUT);
    end
endmodule
```
✔ 설명:

- nand 프리미티브를 배열로 선언하여 8개의 NAND 게이트를 생성했습니다.

- 각 게이트는 입력 벡터(IN1, IN2)의 비트를 처리하여 출력 벡터(OUT)로 전달합니다.

예제 2: 파생된 인스턴스 표현

```verilog
module InstanceArrayDetailedExample;
    wire [7:0] OUT, IN1, IN2;

    // 각각의 NAND 게이트를 개별적으로 선언한 표현
    nand n_gate[0] (OUT[0], IN1[0], IN2[0]);
    nand n_gate[1] (OUT[1], IN1[1], IN2[1]);
    nand n_gate[2] (OUT[2], IN1[2], IN2[2]);
    nand n_gate[3] (OUT[3], IN1[3], IN2[3]);
    nand n_gate[4] (OUT[4], IN1[4], IN2[4]);
    nand n_gate[5] (OUT[5], IN1[5], IN2[5]);
    nand n_gate[6] (OUT[6], IN1[6], IN2[6]);
    nand n_gate[7] (OUT[7], IN1[7], IN2[7]);

    initial begin
        $monitor("IN1 = %b, IN2 = %b -> OUT = %b", IN1, IN2, OUT);
    end
endmodule
```
✔ 설명:

- 각 NAND 게이트를 개별적으로 선언하여 표현했습니다.

- 배열 표현과 동일한 결과를 제공하지만 코드가 길어집니다.


### 5.1.4. 예제

## 5.2. 게이트 지연
### 5.2.1. 상승, 하강, 턴-오프 지연
✅ Verilog에서 상승, 하강, 턴-오프 지연이란?
Verilog는 게이트 지연을 모델링하기 위해 상승 지연(Rise Delay), 하강 지연(Fall Delay), **턴-오프 지연(Turn-off Delay)**을 제공합니다. 

이러한 지연은 논리 게이트의 출력이 상태를 변경할 때 걸리는 시간을 나타내며, 실제 하드웨어의 동작을 시뮬레이션하는 데 사용됩니다.

1. 상승 지연 (Rise Delay)
설명:
신호가 0, x, 또는 z에서 1로 변할 때 걸리는 시간입니다.


2. 하강 지연 (Fall Delay)
    - 신호가 1, x, z에서 0으로 변할 때 걸리는 시간입니다125.

    - 예시: and #(4, 6) a2(out, i1, i2); 상승 4, 하강 6

3. 턴오프 지연 (Turn-off Delay)
    - 신호가 0, 1, x에서 z로 변할 때 걸리는 시간입니다

    - 예시: bufif0 #(3,4,5) b1 (out, in, control); 상승 3, 하강 4, 턴오프 5

### 5.2.2. 최소/천형적/최대값
✅ Verilog에서 최소/천형적/최대값(Min/Typical/Max) 지연이란?
Verilog는 디지털 회로의 지연 시간을 모델링하기 위해 **최소값(Min), 천형적값(Typical), 최대값(Max)**을 제공합니다. 이러한 지연 시간은 하드웨어의 실제 동작에서 발생할 수 있는 시간 범위를 정의하며, 시뮬레이터에 따라 특정 값을 선택하여 시뮬레이션을 수행합니다.

#### 📌 최소/천형적/최대값의 정의

1. 최소값 (Min)

    - 지연 시간의 하한선으로, 실제 지연 시간이 이 값보다 작을 수 없습니다.

    - 가장 빠른 회로 동작을 나타냅니다.

2. 전형적값 (Typical)

    - 지연 시간의 평균값 또는 기대값으로, 일반적으로 사용되는 지연 시간입니다.

    - 실제 지연 시간이 이 값 근처에 있을 가능성이 높습니다.
    
3. 최대값 (Max)

    - 지연 시간의 상한선으로, 실제 지연 시간이 이 값보다 클 수 없습니다.

    - 가장 느린 회로 동작을 나타냅니다.

#### 📌 지연 시간 모델링 예제
예제 1: AND 게이트에서 최소/천형적/최대값 설정

```verilog
module MinTypMaxExample(input in1, input in2, output out);
    wire out;

    // AND 게이트: 상승 지연 (Min: 2, Typ: 4, Max: 6)
    and #(2:4:6) a1 (out, in1, in2);

    initial begin
        $monitor("Time = %0t | out = %b", $time, out);
    end
endmodule
```

✔ 설명:

- and #(2:4:6)는 상승 지연을 최소값 2, 천형적값 4, 최대값 6으로 설정합니다.

- 시뮬레이터는 설정된 모드에 따라 하나의 값을 선택하여 시뮬레이션을 수행합니다.


예제 2: BUFIF0 게이트에서 모든 지연 설정

```verilog
module BufifMinTypMaxExample;
    wire out;

    // BUFIF0 게이트: 상승 (Min: 1, Typ: 2, Max: 3), 하강 (Min: 4, Typ: 5, Max: 6), 턴오프 (Min: 7, Typ: 8, Max: 9)
    bufif0 #(1:2:3, 4:5:6, 7:8:9) b1 (out, in, control);

    initial begin
        $monitor("Time = %0t | out = %b", $time, out);
    end
endmodule
```

✔ 설명:

- bufif0에서 상승, 하강, 턴-오프 지연을 각각 최소값/천형적값/최대값으로 설정했습니다.

- 시뮬레이터는 설정된 모드에 따라 하나의 값을 선택하여 시뮬레이션을 수행합니다.
